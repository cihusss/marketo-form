(()=>{"use strict";const e=e=>{let t;console.log("FormBreaker v1.13 loaded");try{t=document.getElementsByClassName("lp-form")[0].id.split("mktoForm_").pop()}catch(e){return void console.log("No form ID found in DOM")}if(void 0===t)return void console.log("No form ID found in DOM");console.log(`Found form ${t} in DOM`),MktoForms2.loadForm("https://learn.bisk.com","058-NIT-467",t);const o="#cc0000",n="white",l=e.getAttribute("groupField"),r=[];["Program_of_Interest__c","FirstName","LastName","Email","Phone","Country_of_Citizenship__c"].forEach((e=>{r.push({name:e.trim(),message:"This field is required."})}));var i={buttons:{prev:{label:"Back",disabled:!1},next:{label:"Next"}},requiredFields:r};MktoForms2.whenReady((function(e){console.log(`Form ${t} is now ready`);var r=e.getFormElem()[0],a=getSelection.call.bind([].slice),s=".mktoButtonRow .mktoButton",d="fsaat-",c="data-form-local-fragment",u=r.querySelectorAll(".mktoForm > .mktoFormRow"),m=r.querySelector(".mktoForm > .mktoButtonRow"),p=m.querySelector(s);i.requiredFields.map((function(e){return e.label=r.querySelector("[for='"+e.name+"']"),e.refEl=r.querySelector("[name='"+e.name+"']"),e})).forEach((function(e){e.label.parentNode.classList.add("mktoRequiredField")}));var y=a(document.styleSheets).filter((function(e){return"STYLE"==e.ownerNode.nodeName}))[0];function f(e,t){var o,n,l="next";t=t||l,o=e instanceof HTMLElement?+e.id.split(d)[1]:isNaN(e)?-1:e,n="#"+d+(t==l?++o:--o),r.setAttribute(c,n)}function g(t,o){e.submittable(!1),o=o||r;var n=e.getValues(),l=i.requiredFields.filter((function(e){return o.contains(e.refEl)&&(!n[e.name]||"checkbox"==e.refEl.type&&"no"==n[e.name])}));return l.length?(e.showErrorMessage(l[0].message,MktoForms2.$(l[0].refEl)),!1):(e.submittable(!0),!0)}a(u).forEach((function(e,t){var o=0==t,n=t==u.length-1;e.id=d+t;var l,r,a=n?m:m.cloneNode(!0),b=e.nextSibling,h=!n,E=!o&&!i.buttons.prev.disabled,N={};h&&(N.next=a.querySelector(s)),E&&(r=l=N.next||p,N.prev=r.cloneNode()),Object.keys(N).forEach((function(e){N[e].type="button",N[e].setAttribute("data-dir",e),N[e].innerHTML=i.buttons[e].label})),h&&e.parentNode.insertBefore(a,b),E&&l.parentNode.insertBefore(N.prev,l),a.addEventListener("click",(function(t){if("BUTTON"==t.target.tagName&&"button"==t.target.type){if("next"==t.target.getAttribute("data-dir")&&!g(0,e))return;f(e,t.target.getAttribute("data-dir"))}})),y.insertRule([".mktoForm["+c+"='#"+e.id+"'] .mktoFormRow#"+e.id+",",".mktoForm["+c+"='#"+e.id+"'] .mktoFormRow#"+e.id+" + .mktoButtonRow","{ display: block; }"].join(" "),0)})),e.onValidate(g),f();let b=document.getElementsByClassName("mktoLabel"),h=document.getElementsByClassName("mktoField"),E=[];for(F=0;F<b.length;F++){let e=document.getElementsByClassName("mktoLabel")[F];e.style.opacity="0",name=e.innerHTML.split("</div>").pop(),e.nextSibling.nextSibling.setAttribute("placeholder",name)}const N=e=>{"radio"!==e.type?(e.addEventListener("focusin",(function(){this.previousSibling.previousSibling.style.opacity="1",this.setAttribute("placeholder",""),this.setAttribute("style","padding: 12px 6px 0 6px !important")})),e.addEventListener("focusout",(function(){let e=this.previousSibling.previousSibling;this.setAttribute("placeholder",e.innerHTML.split("</div>").pop()),""==this.value?(e.style.opacity="0",this.setAttribute("style","padding: 2px 6px 0 6px !important")):e.style.opacity="1"}))):e.type};for(F=0;F<h.length;F++){let e=document.getElementsByClassName("mktoField")[F];N(e)}if("true"===l)try{let e=document.querySelectorAll("input[type='radio']")[1],t=e.parentNode.parentNode.parentNode.parentNode;e.addEventListener("click",(()=>{setTimeout((()=>{let e=t.nextSibling.childNodes[0].childNodes[1].childNodes[2],o=t.nextSibling.childNodes[0].childNodes[1].childNodes[0];e.placeholder=o.innerText,N(e)}),10)}))}catch(e){console.log("No custom group field found")}let v=document.querySelector('button[type="submit"]');v.addEventListener("click",(function(){for(F=0;F<h.length;F++){let e=document.getElementsByClassName("mktoField")[F].value;console.log(e),E.push(e)}E.includes("")?console.log("one of the values is empty"):(v.innerHTML="Wait...",document.querySelector('button[type="button"]:nth-child(1)').style.display="none !important")})),v.style.background=o,v.style.color=n;try{let e=document.querySelector('button[data-dir="next"]');e.style.background=o,e.style.color=n}catch(e){}let k=document.querySelectorAll("legend");k.forEach((e=>{let t=e.innerHTML.replace("0",""),o=document.querySelectorAll("fieldset");e.innerHTML=t+" of "+o.length,1===k.length?(e.setAttribute("style","opacity: 0 !important"),document.getElementById("fsaat-0").setAttribute("style","margin-top: -20px !important")):e.setAttribute("style","display: block !important")})),document.querySelectorAll(".mktoField").forEach((e=>{e.addEventListener("focusin",(function(){})),e.addEventListener("focusout",(function(){}))})),a(r.querySelectorAll("SELECT")).forEach((function(e){var t;a(e.querySelectorAll("OPTION")).forEach((function(o,n){"[OPTGROUP]"==o.value?((t=document.createElement("OPTGROUP")).label=o.textContent,e.appendChild(t),e.removeChild(o)):t&&t.appendChild(o)}))}));let S=r.querySelectorAll('.mktoFormRow input[type="hidden"]');for(var F=0;F<S.length;F++)S[F].parentNode.style.display="none";let x=r.querySelectorAll("OPTION"),A=/^\[DISABLED\]\s/;Array.prototype.forEach.call(x,(function(e){A.test(e.textContent)&&(e.textContent=e.textContent.replace(A,""),e.disabled=!0)})),e.addHiddenFields({Landing_Page_URL__c:document.location})}))};(()=>{const t=document.currentScript;window.addEventListener("load",(o=>{e(t)}))})()})();